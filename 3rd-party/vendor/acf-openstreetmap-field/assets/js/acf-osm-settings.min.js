!function(i,o){var a=o.options,s=o.providers,l=!1,r=!1;L.Control.ResetLayers=L.Control.extend({onAdd:function(){return this._container=L.DomUtil.create("div","leaflet-control-add-location-marker leaflet-bar leaflet-control"),this._link=L.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",this._container),this._icon=L.DomUtil.create("span","dashicons dashicons-image-rotate",this._link),L.DomEvent.on(this._link,"click",L.DomEvent.stopPropagation).on(this._link,"click",L.DomEvent.preventDefault).on(this._link,"click",this._onClick,this).on(this._link,"dblclick",L.DomEvent.stopPropagation),this._container},onRemove:function(){L.DomEvent.off(this._link,"click",L.DomEvent.stopPropagation).off(this._link,"click",L.DomEvent.preventDefault).off(this._link,"click",this._onClick,this).off(this._link,"dblclick",L.DomEvent.stopPropagation)},_onClick:function(){this._map.eachLayer(function(o){o.remove()})}}),i(document).on("acf-osm-map-init",function(o){var e=o.detail.map;function t(o){var t,i=a.layer_config[o.split(".")[0]]||{options:{}},n=L.tileLayer.provider(o,i.options);n.provider_key=o,i=(t=o).split("."),(t=s[i.shift()]).isOverlay||(t=i.length?t.variants[i.shift()]:t).isOverlay?r&&(r.remove(),r.provider_key===o)?r=!1:(r=n).addTo(e):(l&&(e.eachLayer(function(o){o.remove()}),r=!1),(l=n).addTo(e),r&&(r.remove(),r.addTo(e)))}e.on("layeradd",function(o){var t,o=o.layer;e.hasLayer(o)&&(o.options.bounds&&(t=L.latLngBounds(o.options.bounds),e.fitBounds(t,{paddingTopLeft:[0,0],paddingBottomRight:[0,0]})),(t=e.getZoom())!==(o=Math.max(o.options.minZoom,Math.min(t,o.options.maxZoom)))&&e.setZoom(o))}),new L.Control.ResetLayers({position:"topright"}).addTo(e),i(document).on("click",".acf-osm-settings [data-layer]",function(o){o.preventDefault(),t(i(this).data("layer"))}).on("change",'.osm-disable[type="checkbox"]',function(o){i(this).closest(".acf-osm-setting").toggleClass("disabled",i(this).prop("checked"))})})}(jQuery,acf_osm,window);